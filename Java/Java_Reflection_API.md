# JAVA Reflection API

자바 API에는 reflection이라는 패키지가 있는데, 이 패키지에 있는 클래스들을 이용해서 구체적인 클래스 타입을 알지 못해도 JVM에 로딩되어 있는 해당 클래스(힙 영역에 저장된 클래스)의 정보(메서드, 타입, 변수 등)를 읽어올 수 있습니다.

클래스의 정보를 읽어올 때, 클래스의 접근제어자와는 관계없이 사용할 수 있습니다.

한마디로 구체적이지 못한 객체를 접근제어자와 상관없이 런타임에서 동적으로 해결해주기 위한 솔루션이되는 API입니다.

### ✅ JAVA Reflection API는 어떤 정보를 활용하여 클래스 정보를 알 수 있을까요?

JAVA에서는 JVM이 실행되면 사용자가 작성한 JAVA 코드가 컴파일러를 거쳐서 바이트 코드로 변환됩니다.
이 바이트코드는 JVM의 static 영역에 저장되는데, Reflection API는 이 정보를 활용합니다.
클래스 이름만 알고 있다면 static 영역을 뒤져서 정보를 가져올 수 있습니다.

### ✅ JAVA Reflection API의 단점

- 성능 오버헤드가 날 수 있습니다.

컴파일 타임이 아니라 런타임에 동적으로 타입을 분석하고 정보를 가져오기 때문에 JVM을 최적화 할 수 없습니다.

- 캡슐화, 은닉성을 깨뜨릴 수 있습니다.

직접 접근할 수 없는 private 인스턴스 변수, 메서드에 접근하기 때문에 내부를 노출하게 되면서 객체지향설계가 망가집니다.

### ✅ JAVA Reflection API가 사용되는 곳 (필요한 이유)

이렇게 JAVA Reflection API는 치명적인 단점들이 존재하지만 사용되어야 하는 곳이 있습니다.
바로 프레임워크나 라이브러리에서 많이 사용되는데, 프레임워크나 라이브러리는 사용자가 어떤 클래스를 만들지 예측할 수 없기 때문에 동적으로 해결해줘야 하는 일이 생기기 때문입니다.

Spring에서도 Reflection API를 사용하는데, Spring Container의 BeanFactory가 대표적입니다.
Bean은 애플리케이션이 실행한 후 런타임에 객체가 호출될 때 동적으로 객체의 인스턴스를 생성하며, 이 때 Spring Container의 BeanFactory에서 리플렉션을 사용합니다.